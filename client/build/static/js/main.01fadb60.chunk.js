(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{43:function(e,t,n){},44:function(e,t,n){},63:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n(1),i=n.n(a),s=n(8),o=n.n(s),r=(n(43),n(7)),l=(n(44),n(9)),u=n.n(l),d=(n(63),n(5)),j=function(e){return{type:"UPDATE_VIEW",payload:e}},b=function(e){return{type:"UPDATE_USERDATA",payload:e}},O=function(e){return{type:"UPDATE_COLLECTIONDATA",payload:e}},h=function(e){return{type:"UPDATE_NOTEDATA",payload:e}},f=n(12),m=n(17),p=n(102);function v(e){var t=Object(d.b)(),n=Object(d.c)((function(e){return e.userData})),i=Object(a.useState)(""),s=Object(r.a)(i,2),o=s[0],l=s[1],j=Object(a.useState)(!1),O=Object(r.a)(j,2),h=O[0],v=O[1];return Object(c.jsxs)("div",{className:"add-collection__container",children:[h?Object(c.jsx)(p.a,{label:"Title",variant:"filled",className:"input",error:!0,helperText:"Cannot be empty",value:o,onChange:function(e){return l(e.target.value)}}):Object(c.jsx)(p.a,{label:"Title",variant:"filled",className:"input",value:o,onChange:function(e){return l(e.target.value)}}),Object(c.jsxs)("div",{className:"actions",children:[Object(c.jsx)(m.a,{className:"icon-cancel",onClick:function(){return e.setCollectionFunctionView("")}}),Object(c.jsx)(f.a,{className:"icon-accept",onClick:function(){if(o.length<1)return v(!0);v(!1);var c={userId:n._id,_id:"".concat(n.name.slice(0,2),"-").concat(Math.floor(1e5*Math.random())),title:o};u.a.put("/api/collections/create",c).then((function(c){console.log(c),u.a.get("/api/users",{params:{email:n.email}}).then((function(n){t(b(n.data[0])),e.setCollectionFunctionView("")})).catch((function(e){console.log("Error: "+e)}))})).catch((function(e){console.log(e)}))}})]})]})}n(69);var g=n(32),x=n(15),N=n(33);function _(e){var t=Object(d.b)(),n=Object(d.c)((function(e){return e.userData})),i=Object(d.c)((function(e){return e.collectionData})),s=Object(a.useState)(""),o=Object(r.a)(s,2),l=o[0],u=o[1];return Object(c.jsxs)("div",{className:"navigation",children:[Object(c.jsxs)("div",{className:"top",children:[Object(c.jsxs)("div",{className:"profile__container",children:[Object(c.jsx)("div",{className:"image",children:Object(c.jsx)(g.a,{})}),Object(c.jsxs)("div",{className:"text",children:[Object(c.jsx)("p",{className:"welcome",children:"Welcome"}),Object(c.jsx)("p",{className:"username",children:n.name})]})]}),Object(c.jsxs)("div",{className:"add-collection__link",onClick:function(){return u("addCollection")},children:[Object(c.jsx)(x.a,{className:"icon"}),Object(c.jsx)("h2",{className:"text",children:"Add Collection"})]}),"addCollection"===l&&Object(c.jsx)(v,{collectionFunctionView:l,setCollectionFunctionView:u}),n.collections&&n.collections.map((function(e){return Object(c.jsx)("div",{className:e._id===i._id?"note__link active":"note__link",onClick:function(){return function(e){t(O(e))}(e)},children:Object(c.jsxs)("h2",{className:"title",children:[Object(c.jsx)(x.d,{})," ",e.title]})},e._id)}))]}),Object(c.jsx)("div",{className:"bottom",children:Object(c.jsx)(N.a,{className:"icon-logout",onClick:function(){t(b({})),t(j("login"))}})})]})}n(70);function w(e){var t=Object(d.b)(),n=Object(d.c)((function(e){return e.userData})),i=Object(d.c)((function(e){return e.collectionData})),s=Object(a.useState)(""),o=Object(r.a)(s,2),l=o[0],j=o[1],h=Object(a.useState)(!1),v=Object(r.a)(h,2),g=v[0],x=v[1],N=Object(a.useState)(""),_=Object(r.a)(N,2),w=_[0],C=_[1],D=Object(a.useState)(!1),E=Object(r.a)(D,2),T=(E[0],E[1]);return Object(c.jsxs)("div",{className:"add-note",children:[Object(c.jsx)("div",{className:"background",onClick:function(){return e.setNoteFunctionView("false")}}),Object(c.jsxs)("div",{className:"content",children:[Object(c.jsx)("div",{className:"header",children:Object(c.jsx)("h1",{children:"Add note"})}),Object(c.jsxs)("div",{className:"form",children:[g?Object(c.jsx)(p.a,{label:"Title",variant:"outlined",className:"input",error:!0,helperText:"Cannot be empty",value:l,onChange:function(e){return j(e.target.value)}}):Object(c.jsx)(p.a,{label:"Title",variant:"outlined",className:"input",value:l,onChange:function(e){return j(e.target.value)}}),Object(c.jsx)(p.a,{label:"Description",multiline:!0,rows:6,variant:"outlined",className:"input",value:w,onChange:function(e){return C(e.target.value)}})]}),Object(c.jsxs)("div",{className:"actions",children:[Object(c.jsx)(m.a,{className:"icon-cancel",onClick:function(){return e.setNoteFunctionView("")}}),Object(c.jsx)(f.a,{className:"icon-accept",onClick:function(){if(l.length<1)return x(!0);x(!1),T(!1);var c={userId:n._id,collectionId:i._id,_id:"".concat(n.name.slice(0,3),"-").concat(i.title.slice(0,3),"-").concat(Math.floor(1e5*Math.random())),title:l,description:w};u.a.put("/api/notes/addNote",c).then((function(c){u.a.get("/api/users",{params:{email:n.email}}).then((function(n){t(b(n.data[0])),t(O(n.data[0].collections.filter((function(e){return e._id===i._id}))[0])),e.setNoteFunctionView("")})).catch((function(e){console.log("Error: "+e)}))})).catch((function(e){console.log(e)}))}})]})]})]})}n(71);function C(e){var t=Object(d.b)(),n=Object(d.c)((function(e){return e.userData})),i=Object(d.c)((function(e){return e.collectionData})),s=Object(d.c)((function(e){return e.noteData})),o=Object(a.useState)(""),l=Object(r.a)(o,2),j=l[0],m=l[1];return Object(c.jsxs)("div",{className:"navigation-notes",children:[Object(c.jsxs)("div",{className:"top",children:[Object(c.jsxs)("div",{className:"header",children:[Object(c.jsx)("p",{className:"text",children:i.title}),Object(c.jsx)(f.c,{className:"icon-delete",onClick:function(){var e={userId:n._id,collectionId:i._id};u.a.put("/api/collections/delete",e).then((function(e){u.a.get("/api/users",{params:{email:n.email}}).then((function(e){t(b(e.data[0])),t(O({}))})).catch((function(e){console.log("Error: "+e)}))})).catch((function(e){console.log(e)}))}})]}),i.notes&&i.notes.map((function(e){return Object(c.jsxs)("div",{className:e._id===s._id?"note__container active":"note__container",onClick:function(){return function(e){t(h(e))}(e)},children:[Object(c.jsxs)("p",{className:"title",children:[Object(c.jsx)(x.c,{})," ",e.title]}),Object(c.jsx)("p",{className:"description",children:e.description.length>130?"".concat(e.description.slice(0,130),"..."):e.description})]},e._id)}))]}),Object(c.jsxs)("div",{className:"bottom",children:[Object(c.jsx)(x.b,{className:"icon-create",onClick:function(){return m("addNote")}}),"addNote"===j&&Object(c.jsx)(w,{setNoteFunctionView:m})]})]})}n(72);function D(e){var t=Object(d.b)(),n=Object(d.c)((function(e){return e.userData})),a=Object(d.c)((function(e){return e.collectionData})),i=Object(d.c)((function(e){return e.noteData}));return Object(c.jsxs)("div",{className:"note-content",children:[Object(c.jsxs)("div",{className:"actions",children:[Object(c.jsx)(f.b,{className:"icon-edit",onClick:function(){e.setView("editNote")}}),Object(c.jsx)(f.c,{className:"icon-delete",onClick:function(){var e={userId:n._id,collectionId:a._id,noteId:i._id};u.a.put("/api/notes/deleteNote",e).then((function(e){u.a.get("/api/users",{params:{email:n.email}}).then((function(e){t(b(e.data[0])),t(O(e.data[0].collections.filter((function(e){return e._id===a._id}))[0])),t(h({}))})).catch((function(e){console.log("Error: "+e)}))})).catch((function(e){console.log(e)}))}})]}),Object(c.jsxs)("div",{className:"content__container",children:[Object(c.jsx)("h1",{children:i.title}),Object(c.jsx)("p",{children:i.description})]})]})}function E(){var e=Object(d.c)((function(e){return e.collectionData})),t=Object(d.c)((function(e){return e.noteData})),n=Object(a.useState)(""),i=Object(r.a)(n,2),s=(i[0],i[1]);return Object(c.jsxs)("div",{className:"dashboard",children:[Object(c.jsx)(_,{setCollectionFunctionView:s}),e.title&&Object(c.jsx)(C,{}),t.title&&Object(c.jsx)(D,{})]})}n(73);var T=function(){var e=Object(d.b)(),t=i.a.useState("login"),n=Object(r.a)(t,2),a=n[0],s=n[1],o=i.a.useState([]),l=Object(r.a)(o,2),O=l[0],h=l[1],f=i.a.useState("legion@gmail.com"),m=Object(r.a)(f,2),p=m[0],v=m[1],g=i.a.useState("legion123"),x=Object(r.a)(g,2),N=x[0],_=x[1],w=i.a.useState(""),C=Object(r.a)(w,2),D=C[0],E=C[1],T=i.a.useState(""),k=Object(r.a)(T,2),y=k[0],S=k[1],A=i.a.useState(""),I=Object(r.a)(A,2),V=I[0],U=I[1];return Object(c.jsx)("div",{className:"auth",children:Object(c.jsxs)("div",{className:"auth__container",children:[Object(c.jsxs)("h1",{children:[Object(c.jsx)("span",{onClick:function(){return s("login")},className:"login"===a?"active":void 0,children:"Login"})," | ",Object(c.jsx)("span",{onClick:function(){return s("register")},className:"register"===a?"active":void 0,children:"Register"})]}),"login"===a&&Object(c.jsxs)("div",{className:"login__container",children:[Object(c.jsxs)("form",{children:[Object(c.jsx)("input",{type:"text",required:!0,placeholder:"login-email"===O[0]?O[1]:"Email",value:p,onChange:function(e){return v(e.target.value)}}),Object(c.jsx)("input",{type:"password",required:!0,placeholder:"login-password"===O[0]?O[1]:"Password",value:N,onChange:function(e){return _(e.target.value)}}),Object(c.jsx)("button",{className:"submit",onClick:function(t){return function(t,n,c){t.preventDefault();var a={email:n,password:c};u.a.post("/api/users/login",a).then((function(t){if("success"===t.data)u.a.get("/api/users",{params:{email:p}}).then((function(t){e(b(t.data[0])),e(j("dashboard"))})).catch((function(e){console.log("Error: "+e)}));else{var n=[];switch(t.data.match(/"([^"]*)"/)[1]){case"email":n=["login-email",t.data],h(n),v("");break;case"password":n=["login-password",t.data],h(n),_("");break;default:console.log("something went wrong...")}}console.log(t.data)}))}(t,p,N)},children:"Login"})]}),"registered"===O&&Object(c.jsxs)("p",{children:["Successfully registered!",Object(c.jsx)("br",{}),"Please login."]})]}),"register"===a&&Object(c.jsx)("div",{className:"register__container",children:"registered"!==O&&Object(c.jsxs)("form",{className:"input-main",children:[Object(c.jsx)("input",{type:"text",required:!0,placeholder:"register-name"===O[0]?O[1]:"Name",value:D,onChange:function(e){return E(e.target.value)}}),Object(c.jsx)("input",{type:"text",required:!0,placeholder:"register-email"===O[0]?O[1]:"Email",value:y,onChange:function(e){return S(e.target.value)}}),Object(c.jsx)("input",{type:"password",required:!0,placeholder:"register-password"===O[0]?O[1]:"Password",value:V,onChange:function(e){return U(e.target.value)}}),Object(c.jsx)("button",{className:"submit",onClick:function(e){return function(e){e.preventDefault();var t={name:D,email:y,password:V};u.a.post("/api/users/register",t).then((function(e){if("success"===e.data)s("login"),h("registered");else{var t=[];switch(e.data.match(/"([^"]*)"/)[1]){case"name":t=["register-name",e.data],h(t),E("");break;case"email":t=["register-email",e.data],h(t),S("");break;case"password":t=["register-password",e.data],h(t),U("");break;default:console.log("something went wrong...")}}})).catch((function(e){console.log(e)}))}(e)},children:"Register"})]})})]})})};n(74);function k(){var e=Object(d.c)((function(e){return e.view}));return Object(c.jsxs)("div",{className:"app",children:["login"===e&&Object(c.jsx)(T,{}),"dashboard"===e&&Object(c.jsx)(E,{})]})}var y=n(14),S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_USERDATA":return t.payload;default:return e}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_COLLECTIONDATA":return t.payload;default:return e}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_NOTEDATA":return t.payload;default:return e}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_ISLOGGEDIN":return t.payload;default:return e}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"login",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_VIEW":return t.payload;default:return e}},P=Object(y.b)({userData:S,collectionData:A,noteData:I,isLoggedIn:V,view:U}),L=Object(y.c)(P,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(Object(c.jsx)(d.a,{store:L,children:Object(c.jsx)(k,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.01fadb60.chunk.js.map